{"components":[{"id":"____screen","createTime":1689744458028,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","size":0,"screenType":"default","type":"screen"}],"type":"PICO","versions":"Beta","units":[],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"h.)c0[0lJZQy7KQ(i7O6\">mac</variable><variable id=\"l7PQmAn{:xh0`=hGJuYm\">message</variable><variable id=\"BGM4^J/=a=#-1j*c=_]%\">destinationMac</variable><variable id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</variable><variable id=\"jx?B|yM,g`PtOp^yndVT\">lastP2PMessage</variable><variable id=\"?lB.sS:czU(uquQ+)uyu\">newMessage</variable><variable id=\"k^|~OxKj]_|SSrmK{8%{\">switchTurnedOn</variable><variable id=\"yZfA5UkoKA],9KM]Oew#\">sourceMac</variable></variables><block type=\"convent_str\" id=\"iEN*T6wI!9afeK,O6+@k\" disabled=\"true\" x=\"670\" y=\"-190\"></block><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"87\" y=\"143\"><next><block type=\"wlan_create_station\" id=\"O@)QL2cG%cG3fmnDVDr]\"><field name=\"type\">STA_IF</field><next><block type=\"wlan_active\" id=\"W[H`2u@9K5DEgoU~|[C{\"><field name=\"active\">True</field><next><block type=\"wifi_connect\" id=\"r=$nTs8jQb,^R#_jxm=?\"><next><block type=\"rgb_set_all\" id=\"R1kF9xXR)DnD)I,VCYB|\"><field name=\"COLOR\">#000000</field><next><block type=\"variables_set\" id=\";%b,}v6UY~M+Y0ztAocu\"><field name=\"VAR\" id=\"yZfA5UkoKA],9KM]Oew#\">sourceMac</field><value name=\"VALUE\"><block type=\"wlan_config\" id=\"6R3K]h_M@@p[wnV6$|TU\"><field name=\"type\">mac</field></block></value><next><block type=\"execute\" id=\"u5]1yvoM%|F%H!)(6na0\"><field name=\"CODE\">sourceMac = ''.join('%02X' % byte for byte in sourceMac)</field><next><block type=\"variables_set\" id=\"j)c=8J6$yUx)6Qj/wIN:\"><field name=\"VAR\" id=\"jx?B|yM,g`PtOp^yndVT\">lastP2PMessage</field><value name=\"VALUE\"><block type=\"Net_getp2p\" id=\"Ho!xrz7`nD0o,ct1gpF#\"></block></value><next><block type=\"variables_set\" id=\"NR.LbYu19AJvCu*%b*$d\"><field name=\"VAR\" id=\"k^|~OxKj]_|SSrmK{8%{\">switchTurnedOn</field><value name=\"VALUE\"><block type=\"logic_boolean\" id=\"(/g%jp)SeCmUy=40pZpX\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"basic_on_loop\" id=\"}W+022`{.MVO6eoQ2,vQ\"><statement name=\"LOOP\"><block type=\"variables_set\" id=\")vt1MairX_gJH-HcmEca\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field><value name=\"VALUE\"><block type=\"Net_getp2p\" id=\"YL4${.g3=aK_WU+V7_hX\"></block></value><next><block type=\"controls_if\" id=\"JHpuaKbHd7kcPY6VBe/6\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"GZx;r:-lRzwHBseqc1Ff\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"variables_get\" id=\"aPtG839NwSH$nfY5t~#O\"><field name=\"VAR\" id=\"jx?B|yM,g`PtOp^yndVT\">lastP2PMessage</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"Xtjq?i+4jj(,lgm]yEIN\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"ew7%k`#OGrC%.].W-Uux\"><field name=\"VAR\" id=\"jx?B|yM,g`PtOp^yndVT\">lastP2PMessage</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"b^@V[#Am|Ps:Ycl^NJ;6\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field></block></value><next><block type=\"variables_set\" id=\"k!nmJpM.:LMqmlhxdPL=\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field><value name=\"VALUE\"><block type=\"lists_split\" id=\"WfX,hT#a1a-~+oK(D%w!\"><mutation mode=\"SPLIT\"></mutation><field name=\"MODE\">SPLIT</field><value name=\"INPUT\"><block type=\"variables_get\" id=\"`I_7d*RkTpz!^v2Pmd+%\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field></block></value><value name=\"DELIM\"><block type=\"text\" id=\"oo0OV|99(b(2]qD@$m#P\"><field name=\"TEXT\">_</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"DT)fcP7xd(q|q8FK^Y5L\"><mutation name=\"RecivedMessage\"><arg name=\"mac\"></arg><arg name=\"message\"></arg></mutation><value name=\"ARG0\"><block type=\"lists_getIndex\" id=\"c5O`zLNxn[tNL[y4-Ql}\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">FIRST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"aHg04.0B+xC34IIK8xbc\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field></block></value></block></value><value name=\"ARG1\"><block type=\"lists_getIndex\" id=\"Qf%jB2ox??|aN7$~1TmT\"><mutation statement=\"false\" at=\"false\"></mutation><field name=\"MODE\">GET</field><field name=\"WHERE\">LAST</field><value name=\"VALUE\"><block type=\"variables_get\" id=\"9gaqilP#@4037/BBdM.8\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field></block></value></block></value></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"button_callback\" id=\"Ke@@q|(BLx.Biuuo49C3\" x=\"890\" y=\"150\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"controls_ifelse\" id=\"z_0)Q1Hq*mb=E~|oR9c2\"><value name=\"IF0\"><block type=\"variables_get\" id=\"2swoKJz?8h];dG[e[IwS\"><field name=\"VAR\" id=\"k^|~OxKj]_|SSrmK{8%{\">switchTurnedOn</field></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"7StATo|qsv|)`wi#BKAK\"><mutation name=\"SendMessage\"><arg name=\"destinationMac\"></arg><arg name=\"message\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"l2==a9GM}A4~[:x,S2^5\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\"{CBPi~4B^eR7f/IZ:=w2\"><field name=\"TEXT\">0</field></block></value></block></statement><statement name=\"ELSE\"><block type=\"procedures_callnoreturn\" id=\"zW-+Tuho,@LO=PEM5dh%\"><mutation name=\"SendMessage\"><arg name=\"destinationMac\"></arg><arg name=\"message\"></arg></mutation><value name=\"ARG0\"><block type=\"text\" id=\"LO8k{F`h5nec9jZe:2tg\"><field name=\"TEXT\"></field></block></value><value name=\"ARG1\"><block type=\"text\" id=\";lq!YY{}3t?hb[E3BsOE\"><field name=\"TEXT\">1</field></block></value></block></statement><next><block type=\"variables_set\" id=\"II$HE{j`^`)Lz10]$b%}\"><field name=\"VAR\" id=\"k^|~OxKj]_|SSrmK{8%{\">switchTurnedOn</field><value name=\"VALUE\"><block type=\"logic_negate\" id=\"E6Hj+*$[e~QP:+6RO6|.\"><value name=\"BOOL\"><block type=\"variables_get\" id=\"VlDt2q;{KmXa%XC!aFm0\"><field name=\"VAR\" id=\"k^|~OxKj]_|SSrmK{8%{\">switchTurnedOn</field></block></value></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"iF?VaGLup$aN~RU0wuWD\" x=\"890\" y=\"470\"><mutation><arg name=\"mac\" varid=\"h.)c0[0lJZQy7KQ(i7O6\"></arg><arg name=\"message\" varid=\"l7PQmAn{:xh0`=hGJuYm\"></arg></mutation><field name=\"NAME\">RecivedMessage</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"text_print\" id=\"!4@gd[=bQpq3vfT.B3:%\"><value name=\"TEXT\"><block type=\"text\" id=\"r3rj{wZlIK~RqqJ2{9nK\"><field name=\"TEXT\">Got Message:</field></block></value><next><block type=\"text_print\" id=\"c?ctLaC*T=$:|grx#)q-\"><value name=\"TEXT\"><block type=\"variables_get\" id=\"%f7.3Wz2WgW62U(psF9o\"><field name=\"VAR\" id=\"l7PQmAn{:xh0`=hGJuYm\">message</field></block></value><next><block type=\"text_print\" id=\")-=.c?U1y;0O)5Ofsnef\"><value name=\"TEXT\"><block type=\"text\" id=\",.T*u?UZ*i=Qjvr:-/D$\"><field name=\"TEXT\">from MAC:</field></block></value><next><block type=\"text_print\" id=\"d5l)]Y4)%Jw4sAZrG89u\"><value name=\"TEXT\"><block type=\"variables_get\" id=\"YOwGmr~?sBIgcJatuxmC\"><field name=\"VAR\" id=\"h.)c0[0lJZQy7KQ(i7O6\">mac</field></block></value><next><block type=\"text_print\" id=\"Kho*CY]iHJu;E8JK#k$$\"><value name=\"TEXT\"><block type=\"text\" id=\"n[BxxC-0fpTwNr{QBW?.\"><field name=\"TEXT\"></field></block></value><next><block type=\"controls_ifelse\" id=\"wD|5Y^eH66-WS~Jv!@3f\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"GaMIzW(NzbkiMT!$vw/~\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"JiGPaio/%Yo$e!,{RzwI\"><field name=\"VAR\" id=\"l7PQmAn{:xh0`=hGJuYm\">message</field></block></value><value name=\"B\"><block type=\"text\" id=\"sqJA96S_q=JFVo@J!J%E\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"rgb_set_all\" id=\"{jgtHvnFI_MjIIjsL1V~\"><field name=\"COLOR\">#ffffff</field></block></statement><statement name=\"ELSE\"><block type=\"rgb_set_all\" id=\"3jer@x~GxZVHK9-nBnUy\"><field name=\"COLOR\">#000000</field></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"logic_compare\" id=\"u@gH](5Eb]CM9L{0{F-)\" disabled=\"true\" x=\"1370\" y=\"670\"><field name=\"OP\">NEQ</field><value name=\"A\"><block type=\"variables_get\" id=\"c==bP=Jnp]Ht[LY)SJC9\" disabled=\"true\"><field name=\"VAR\" id=\"=CC_v;9Am3gYr~DZKWb~\">P2PMessage</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"1tiW951um`agoc2Qlr:k\" disabled=\"true\"><field name=\"VAR\" id=\"jx?B|yM,g`PtOp^yndVT\">lastP2PMessage</field></block></value></block><block type=\"procedures_defnoreturn\" id=\"9^eM3GIebhoJ%^^wjUNV\" x=\"90\" y=\"750\"><mutation><arg name=\"destinationMac\" varid=\"BGM4^J/=a=#-1j*c=_]%\"></arg><arg name=\"message\" varid=\"l7PQmAn{:xh0`=hGJuYm\"></arg></mutation><field name=\"NAME\">SendMessage</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\";v:rU|E{n#1b,?8%98f^\"><field name=\"VAR\" id=\"?lB.sS:czU(uquQ+)uyu\">newMessage</field><value name=\"VALUE\"><block type=\"lists_split\" id=\"Fzp?GXrG~[PH_))u@u*m\"><mutation mode=\"JOIN\"></mutation><field name=\"MODE\">JOIN</field><value name=\"INPUT\"><block type=\"lists_create_with\" id=\"vQs;IpJ!L$-7Re1J%yJ)\"><mutation items=\"3\"></mutation><value name=\"ADD0\"><block type=\"convent_str\" id=\"+pHM{Z,~8(PBPm~Wij#v\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"*PxTt|!u(hIud)]Ci3jd\"><field name=\"VAR\" id=\"yZfA5UkoKA],9KM]Oew#\">sourceMac</field></block></value></block></value><value name=\"ADD1\"><block type=\"convent_str\" id=\"}%+Wc)kgoo$W`-l4v]d.\"><value name=\"VALUE\"><block type=\"math_random_int\" id=\"pXtl+dzh!.x#=V8?MnC|\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"jlt[/5OWe1!bM9I3XTz?\"><field name=\"NUM\">0</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"-[uM`1!YaV:EhT)|[/Z=\"><field name=\"NUM\">255</field></shadow></value></block></value></block></value><value name=\"ADD2\"><block type=\"convent_str\" id=\"yBqbgvl,4gA~9]i2~sI+\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"*m3!B~k?zQc/(RFUY~{@\"><field name=\"VAR\" id=\"l7PQmAn{:xh0`=hGJuYm\">message</field></block></value></block></value></block></value><value name=\"DELIM\"><block type=\"text\" id=\"{M{c$yd(;e8Z$612-Y^G\"><field name=\"TEXT\">_</field></block></value></block></value><next><block type=\"Net_p2p\" id=\"^{a{%t.*:vc8LFtS{TR+\"><value name=\"apiKey\"><shadow type=\"text\" id=\"_o4*,RPUcpfMclqpMXRy\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"goC#sdF(CaMiti9_c4#2\"><field name=\"VAR\" id=\"BGM4^J/=a=#-1j*c=_]%\">destinationMac</field></block></value><value name=\"Msg\"><shadow type=\"text\" id=\"RJ_1b5%6GDmKe*-d]+k1\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"IGk_1fXTJqpPp/7,VKF{\"><field name=\"VAR\" id=\"?lB.sS:czU(uquQ+)uyu\">newMessage</field></block></value></block></next></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1694411606037,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"SEPEyp45f2L4X7H7Sjye6qGS40hefi50","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["rgb"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"583F445C","uuid":"70323b8b-7738-4ab7-bb26-383b74797cd9"}